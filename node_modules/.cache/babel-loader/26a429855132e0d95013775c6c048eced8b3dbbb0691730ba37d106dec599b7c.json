{"ast":null,"code":"import _slicedToArray from\"C:/Users/Arwin Miclat/Desktop/Botano/Botano/botano/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{Table,Button,Form,Row,Col}from\"react-bootstrap\";import{LinkContainer}from\"react-router-bootstrap\";import{Link,useNavigate}from\"react-router-dom\";import{listPlants}from\"../actions/plantActions\";import Loader from\"../components/Loader\";import Message from\"../components/Message\";import{useDispatch,useSelector}from\"react-redux\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PlantsListScreen=function PlantsListScreen(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),search=_useState2[0],setSearch=_useState2[1];var dispatch=useDispatch();var plantList=useSelector(function(state){return state.plantList;});var _useState3=useState([]),_useState4=_slicedToArray(_useState3,1),setPlants=_useState4[0];var error=plantList.error,loading=plantList.loading,plants=plantList.plants;useEffect(function(){dispatch(listPlants());},[]);var userLogin=useSelector(function(state){return state.userLogin;});var navigate=useNavigate();var userInfo=userLogin.userInfo;useEffect(function(){if(!userInfo){navigate(\"/login\");}else if(!userInfo.isAdmin){navigate(\"/\",{state:{message:\"You're not permitted to view this page\"}});}},[userInfo,navigate]);return/*#__PURE__*/_jsxs(\"div\",{style:{margin:\"2% 15%\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h3\",{children:\"Plant List\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Form,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:3}),/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsx(Form.Control,{onChange:function onChange(e){return setSearch(e.target.value);},type:\"search\",placeholder:\"Search\",className:\"me-1\",\"aria-label\":\"Search\"})})]})}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Image\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Location\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Season\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Local Areas\"})]})}),loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}):/*#__PURE__*/_jsx(\"tbody\",{children:plants.filter(function(plant){return search===\"\"||plant.name.toLowerCase().includes(search.toLowerCase())||plant.description.toLowerCase().includes(search.toLowerCase())||plant.location.toLowerCase().includes(search.toLowerCase())||plant.season.toLowerCase().includes(search.toLowerCase())||plant.local_areas.toString().toLowerCase().includes(search.toLowerCase());}).map(function(plant){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:plant.name}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{className:\"rounded\",src:plant.image,width:\"200\",height:\"200\"})}),/*#__PURE__*/_jsx(\"td\",{children:plant.description}),/*#__PURE__*/_jsx(\"td\",{children:plant.location}),/*#__PURE__*/_jsx(\"td\",{children:plant.season}),/*#__PURE__*/_jsx(\"td\",{children:plant.local_areas})]},\"\");})})]})]});};export default PlantsListScreen;","map":{"version":3,"names":["React","useEffect","useState","Table","Button","Form","Row","Col","LinkContainer","Link","useNavigate","listPlants","Loader","Message","useDispatch","useSelector","PlantsListScreen","search","setSearch","dispatch","plantList","state","setPlants","error","loading","plants","userLogin","navigate","userInfo","isAdmin","message","margin","e","target","value","filter","plant","name","toLowerCase","includes","description","location","season","local_areas","toString","map","image"],"sources":["C:/Users/Arwin Miclat/Desktop/Botano/Botano/botano/src/screens/PlantListScreen.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Table, Button, Form, Row, Col } from \"react-bootstrap\";\r\nimport { LinkContainer } from \"react-router-bootstrap\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { listPlants } from \"../actions/plantActions\";\r\nimport Loader from \"../components/Loader\";\r\nimport Message from \"../components/Message\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\n\r\nconst PlantsListScreen = () => {\r\n  const [search, setSearch] = useState(\"\");\r\n  const dispatch = useDispatch();\r\n  const plantList = useSelector((state) => state.plantList);\r\n  const [setPlants] = useState([]);\r\n  const { error, loading, plants } = plantList;\r\n  useEffect(() => {\r\n    dispatch(listPlants());\r\n  }, []);\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n  let navigate = useNavigate();\r\n  const { userInfo } = userLogin;\r\n\r\n  \r\n  useEffect(() => {\r\n    if (!userInfo) {\r\n      navigate(\"/login\");\r\n    } else if (!userInfo.isAdmin) {\r\n      navigate(\"/\", { state: { message: \"You're not permitted to view this page\" } });\r\n    }\r\n  }, [userInfo, navigate]);\r\n  \r\n  return (\r\n    <div style={{ margin: \"2% 15%\" }}>\r\n      <div className=\"text-center\">\r\n        <br />\r\n        <br></br>\r\n        <h3>Plant List</h3>\r\n        <br></br>\r\n        <Form>\r\n          <Row>\r\n            <Col md={3} />\r\n            <Col md={6}>\r\n              <Form.Control\r\n                onChange={(e) => setSearch(e.target.value)}\r\n                type=\"search\"\r\n                placeholder=\"Search\"\r\n                className=\"me-1\"\r\n                aria-label=\"Search\"\r\n              />\r\n            </Col>\r\n          </Row>\r\n        </Form>\r\n        <br />\r\n      </div>\r\n      <br></br>\r\n      <br />\r\n      <Table striped bordered hover>\r\n        <thead>\r\n          <tr>\r\n            <th>Name</th>\r\n            <th>Image</th>\r\n            <th>Description</th>\r\n            <th>Location</th>\r\n            <th>Season</th>\r\n            <th>Local Areas</th>\r\n          </tr>\r\n        </thead>\r\n        {loading ? (\r\n          <Loader />\r\n        ) : error ? (\r\n          <Message variant=\"danger\">{error}</Message>\r\n        ) : (\r\n          <tbody>\r\n            {plants\r\n              .filter((plant) => {\r\n                return (\r\n                  search === \"\" ||\r\n                  plant.name.toLowerCase().includes(search.toLowerCase()) ||\r\n                  plant.description\r\n                    .toLowerCase()\r\n                    .includes(search.toLowerCase()) ||\r\n                  plant.location.toLowerCase().includes(search.toLowerCase()) ||\r\n                  plant.season.toLowerCase().includes(search.toLowerCase()) ||\r\n                  plant.local_areas.toString().toLowerCase().includes(search.toLowerCase())\r\n                );\r\n              })\r\n              .map((plant) => {\r\n                return (\r\n                  <tr key=\"\">\r\n                    <td>{plant.name}</td>\r\n                    <td>\r\n                      <img\r\n                        className=\"rounded\"\r\n                        src={plant.image}\r\n                        width=\"200\"\r\n                        height=\"200\"\r\n                      />\r\n                    </td>\r\n                    <td>{plant.description}</td>\r\n\r\n                    <td>{plant.location}</td>\r\n                    <td>{plant.season}</td>\r\n                    <td>{plant.local_areas}</td>\r\n                  </tr>\r\n                );\r\n              })}\r\n          </tbody>\r\n        )}\r\n      </Table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PlantsListScreen;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
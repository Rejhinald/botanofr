{"ast":null,"code":"import _slicedToArray from\"C:/Users/Arwin Miclat/Desktop/Botano/Botano/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{Row,Col,Form,Button}from\"react-bootstrap\";import Plant from\"../components/Plant\";import{useDispatch,useSelector}from\"react-redux\";import Loader from\"../components/Loader\";import Message from\"../components/Message\";import{listPlants}from\"../actions/plantActions\";import{Link,useParams,useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Searchscreen=function Searchscreen(){var dispatch=useDispatch();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),search=_useState2[0],setSearch=_useState2[1];var plantList=useSelector(function(state){return state.plantList;});var loading=plantList.loading,error=plantList.error,plants=plantList.plants;useEffect(function(){dispatch(listPlants());},[dispatch]);var handleRightClick=function handleRightClick(event){event.preventDefault();};var filteredPlants=plants.filter(function(plant){return plant.name.toLowerCase().includes(search.toLowerCase());});var userLogin=useSelector(function(state){return state.userLogin;});var userInfo=userLogin.userInfo;var navigate=useNavigate();if(!userInfo){navigate(\"/login\");}else{if(!userInfo.isSubscriber){navigate(\"/subscription\");}}return/*#__PURE__*/_jsx(\"main\",{onContextMenu:handleRightClick,children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Form,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Form.Control,{style:{width:1100},onChange:function onChange(e){return setSearch(e.target.value);},type:\"search\",placeholder:\"Search\",className:\"me-1\",\"aria-label\":\"Search\"})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Button,{style:{width:150,height:46},variant:\"success\",children:\"Search\"})})]})}),loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}):/*#__PURE__*/_jsx(Row,{children:filteredPlants.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No plants found\"}):filteredPlants.map(function(plant){return/*#__PURE__*/_jsx(Col,{sm:12,md:9,lg:8,xl:3,children:/*#__PURE__*/_jsx(Plant,{plant:plant})},plant.id);})})]})});};export default Searchscreen;","map":{"version":3,"names":["React","useEffect","useState","Row","Col","Form","Button","Plant","useDispatch","useSelector","Loader","Message","listPlants","Link","useParams","useNavigate","Searchscreen","dispatch","search","setSearch","plantList","state","loading","error","plants","handleRightClick","event","preventDefault","filteredPlants","filter","plant","name","toLowerCase","includes","userLogin","userInfo","navigate","isSubscriber","width","e","target","value","height","length","map","id"],"sources":["C:/Users/Arwin Miclat/Desktop/Botano/Botano/frontend/src/screens/Searchscreen.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Row, Col, Form, Button } from \"react-bootstrap\";\r\nimport Plant from \"../components/Plant\";\r\nimport { useDispatch, useSelector, } from \"react-redux\";\r\nimport Loader from \"../components/Loader\";\r\nimport Message from \"../components/Message\";\r\nimport { listPlants } from \"../actions/plantActions\";\r\nimport { Link, useParams, useNavigate } from \"react-router-dom\";\r\n\r\nconst Searchscreen = () => {\r\n  const dispatch = useDispatch();\r\n  const [search, setSearch] = useState(\"\");\r\n  const plantList = useSelector((state) => state.plantList);\r\n  const { loading, error, plants } = plantList;\r\n\r\n  useEffect(() => {\r\n    dispatch(listPlants());\r\n  }, [dispatch]);\r\n\r\n  const handleRightClick = (event) => {\r\n    event.preventDefault();\r\n  };\r\n\r\n  const filteredPlants = plants.filter((plant) => {\r\n    return plant.name.toLowerCase().includes(search.toLowerCase());\r\n  });\r\n\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n  const { userInfo } = userLogin;\r\n  \r\n  const navigate = useNavigate();\r\n\r\n  if (!userInfo) {\r\n    navigate(\"/login\");\r\n  } else {\r\n    if (!userInfo.isSubscriber) {\r\n      navigate(\"/subscription\");\r\n    }\r\n  }\r\n\r\n  return (\r\n    <main onContextMenu={handleRightClick}>\r\n      <div>\r\n        <Form>\r\n          <Row>\r\n            <Col>\r\n              <Form.Control\r\n                style={{ width: 1100 }}\r\n                onChange={(e) => setSearch(e.target.value)}\r\n                type=\"search\"\r\n                placeholder=\"Search\"\r\n                className=\"me-1\"\r\n                aria-label=\"Search\"\r\n              />\r\n            </Col>\r\n            <Col>\r\n              <Button style={{ width: 150, height: 46 }} variant=\"success\">\r\n                Search\r\n              </Button>\r\n            </Col>\r\n          </Row>\r\n        </Form>\r\n        {loading ? (\r\n          <Loader />\r\n        ) : error ? (\r\n          <Message variant=\"danger\">{error}</Message>\r\n        ) : (\r\n          <Row>\r\n            {filteredPlants.length === 0 ? (\r\n              <p>No plants found</p>\r\n            ) : (\r\n              filteredPlants.map((plant) => (\r\n                <Col key={plant.id} sm={12} md={9} lg={8} xl={3}>\r\n                  <Plant plant={plant} />\r\n                </Col>\r\n              ))\r\n            )}\r\n          </Row>\r\n        )}\r\n      </div>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default Searchscreen;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}